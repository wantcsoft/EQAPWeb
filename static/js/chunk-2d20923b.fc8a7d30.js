(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20923b"],{a87e:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("h1",{staticStyle:{"text-align":"center"}},[t._v("Instrument setup")]),t._v(" "),n("div",{staticStyle:{"margin-left":"75%","margin-bottom":"3%"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleCreate}},[t._v("Create")])],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini",stripe:""}},[n("el-table-column",{attrs:{prop:"InstrumentName",label:"InstrumentName",width:"120%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"InstrumentSerialNo",label:"InstrumentSerialNo",width:"140%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"InstrumentDesc",label:"InstrumentDesc",width:"120%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"InstrumentLocation",label:"InstrumentLocation",width:"140%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"HighConcentrationID",label:"HighConcentrationID",width:"160%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"MidConcentrationID",label:"MidConcentrationID",width:"160%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"LowConcentrationID",label:"LowConcentrationID",width:"160%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"ProtocolName",label:"ProtocolName",width:"110%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"BaudRate",label:"BaudRate",width:"80%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"PortName",label:"PortName",width:"80%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"IsActive",formatter:t.formatActive,label:"IsActive"}}),t._v(" "),n("el-table-column",{attrs:{label:"Edit"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return t.handleEdit(e.row)}}},[t._v("编辑")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Delete"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("el-dialog",{attrs:{visible:t.instrumentDialogVisible,title:"Protocol",width:"40%"},on:{"update:visible":function(e){t.instrumentDialogVisible=e}}},[n("el-form",{attrs:{model:t.instrument,"label-width":"40%","label-position":"left"}},[n("el-form-item",{attrs:{label:"InstrumentName"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"InstrumentName"},model:{value:t.instrument.InstrumentName,callback:function(e){t.$set(t.instrument,"InstrumentName",e)},expression:"instrument.InstrumentName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"InstrumentSerialNo"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"InstrumentSerialNo"},model:{value:t.instrument.InstrumentSerialNo,callback:function(e){t.$set(t.instrument,"InstrumentSerialNo",e)},expression:"instrument.InstrumentSerialNo"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"InstrumentDesc"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"InstrumentDesc"},model:{value:t.instrument.InstrumentDesc,callback:function(e){t.$set(t.instrument,"InstrumentDesc",e)},expression:"instrument.InstrumentDesc"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"InstrumentLocation"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"InstrumentLocation"},model:{value:t.instrument.InstrumentLocation,callback:function(e){t.$set(t.instrument,"InstrumentLocation",e)},expression:"instrument.InstrumentLocation"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"HighConcentrationID"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"HighConcentrationID"},model:{value:t.instrument.HighConcentrationID,callback:function(e){t.$set(t.instrument,"HighConcentrationID",e)},expression:"instrument.HighConcentrationID"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"MidConcentrationID"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"MidConcentrationID"},model:{value:t.instrument.MidConcentrationID,callback:function(e){t.$set(t.instrument,"MidConcentrationID",e)},expression:"instrument.MidConcentrationID"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"LowConcentrationID"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"LowConcentrationID"},model:{value:t.instrument.LowConcentrationID,callback:function(e){t.$set(t.instrument,"LowConcentrationID",e)},expression:"instrument.LowConcentrationID"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"ProtocolName"}},[[n("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"请选择"},model:{value:t.protocolValue,callback:function(e){t.protocolValue=e},expression:"protocolValue"}},t._l(t.protocolData,(function(t){return n("el-option",{key:t.ProtocolName,attrs:{label:t.ProtocolName,value:t.ProtocolID}})})),1)]],2),t._v(" "),n("el-form-item",{attrs:{label:"BaudRate"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"BaudRate"},model:{value:t.instrument.BaudRate,callback:function(e){t.$set(t.instrument,"BaudRate",e)},expression:"instrument.BaudRate"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"PortName"}},[n("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"PortName"},model:{value:t.instrument.PortName,callback:function(e){t.$set(t.instrument,"PortName",e)},expression:"instrument.PortName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"IsActive"}},[n("el-switch",{attrs:{"active-text":"激活","inactive-text":"未激活"},model:{value:t.instrument.IsActive,callback:function(e){t.$set(t.instrument,"IsActive",e)},expression:"instrument.IsActive"}})],1)],1),t._v(" "),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"danger"},on:{click:function(e){t.instrumentDialogVisible=!1}}},[t._v("cancel")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.confirmInstrument(t.instrument,t.protocolValue)}}},[t._v("save")])],1)],1),t._v(" "),n("div",{staticStyle:{"text-align":"center","margin-bottom":"10%","margin-top":"2%"}},[n("el-button",{attrs:{type:"text"},on:{click:t.toHome}},[t._v("Home Page")])],1)],1)},a=[],r={name:"index",data:function(){return{tableData:[],protocolData:[],protocolValue:"",instrumentDialogVisible:!1,instrument:{},type:""}},mounted:function(){this.getInstrument(),this.getProtocol()},methods:{toHome:function(){this.$router.push({path:"/"})},getInstrument:function(){var t=this;this.req({url:"/getInstrumentSetup",method:"GET"}).then((function(e){t.tableData=e.data.pList}),(function(e){console.log(e),t.$message({type:"success",message:"配置获取失败"})}))},getProtocol:function(){var t=this;this.req({url:"/getProtocolConfig",method:"GET"}).then((function(e){t.protocolData=e.data.pList}),(function(e){console.log(e),t.$message({type:"success",message:"配置获取失败"})}))},formatActive:function(t){var e="";return e=t.IsActive?"激活":"未激活",e},handleEdit:function(t){this.instrumentDialogVisible=!0,this.instrument=t,this.protocolValue=t.ProtocolID,this.type="edit"},handleCreate:function(){this.instrumentDialogVisible=!0,this.instrument={},this.protocolValue="",this.type="create"},confirmInstrument:function(t,e){var n=this;"edit"===this.type?this.req({url:"/updateInstrument",data:{InstrumentNo:t.InstrumentNo,InstrumentID:t.InstrumentID,InstrumentName:t.InstrumentName,InstrumentSerialNo:t.InstrumentSerialNo,InstrumentDesc:t.InstrumentDesc,InstrumentLocation:t.InstrumentLocation,HighConcentrationID:t.HighConcentrationID,MidConcentrationID:t.MidConcentrationID,LowConcentrationID:t.LowConcentrationID,ProtocolID:e,BaudRate:t.BaudRate,PortName:t.PortName,IsActive:t.IsActive},method:"POST"}).then((function(t){n.$message({type:"success",message:t.data.message}),n.getInstrument()}),(function(t){console.log("err :",t),n.$message({type:"info",message:"修改失败"})})):this.req({url:"/createInstrument",data:{InstrumentID:" ",InstrumentName:t.InstrumentName,InstrumentSerialNo:t.InstrumentSerialNo,InstrumentDesc:t.InstrumentDesc,InstrumentLocation:t.InstrumentLocation,HighConcentrationID:t.HighConcentrationID,MidConcentrationID:t.MidConcentrationID,LowConcentrationID:t.LowConcentrationID,ProtocolID:e,BaudRate:t.BaudRate,PortName:t.PortName,IsActive:t.IsActive},method:"POST"}).then((function(t){n.$message({type:"success",message:t.data.message}),n.getInstrument()}),(function(t){console.log("err :",t),n.$message({type:"info",message:"创建失败"})}))},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该Instrument, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){e.req({url:"/deleteInstrument",data:{InstrumentNo:t.InstrumentNo},method:"POST"}).then((function(t){e.$message({type:"success",message:t.data.message}),e.getInstrument()}),(function(t){console.log("err :",t),e.$message({type:"success",message:"删除失败"})}))}))}}},i=r,s=n("2877"),l=Object(s["a"])(i,o,a,!1,null,"53f8a52c",null);e["default"]=l.exports}}]);
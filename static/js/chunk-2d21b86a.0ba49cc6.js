(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21b86a"],{bfc3:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"root"},[l("h1",{staticStyle:{"text-align":"center"}},[e._v("Field setup")]),e._v(" "),l("div",{staticStyle:{"margin-left":"75%","margin-bottom":"3%"}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleCreate}},[e._v("Create")])],1),e._v(" "),l("el-table",{staticStyle:{"margin-left":"3%",width:"94%"},attrs:{data:e.tableData,stripe:""}},[l("el-table-column",{attrs:{prop:"FieldName",label:"FieldName",width:"120%"}}),e._v(" "),l("el-table-column",{attrs:{prop:"FieldType",label:"FieldType"}}),e._v(" "),l("el-table-column",{attrs:{prop:"FieldIndex",label:"FieldIndex"}}),e._v(" "),l("el-table-column",{attrs:{prop:"StartPos",label:"StartPos"}}),e._v(" "),l("el-table-column",{attrs:{prop:"FieldLen",label:"FieldLen"}}),e._v(" "),l("el-table-column",{attrs:{prop:"ValueRange",label:"ValueRange"}}),e._v(" "),l("el-table-column",{attrs:{prop:"ToBeCleared",label:"ToBeCleared",width:"120%"}}),e._v(" "),l("el-table-column",{attrs:{prop:"IsRepeat",label:"IsRepeat"}}),e._v(" "),l("el-table-column",{attrs:{prop:"IsUpload",label:"IsUpload"}}),e._v(" "),l("el-table-column",{attrs:{label:"Edit",width:"80%"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(l){return e.handleMessageEdit(t.row)}}},[e._v("编辑")])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"Delete",width:"80%"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(l){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),l("el-dialog",{attrs:{visible:e.fieldDialogVisible,title:"EditProtocolField",width:"30%"},on:{"update:visible":function(t){e.fieldDialogVisible=t}}},[l("el-form",{attrs:{model:e.field,"label-width":"40%","label-position":"left"}},[l("el-form-item",{attrs:{label:"FieldName"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"FieldName"},model:{value:e.field.FieldName,callback:function(t){e.$set(e.field,"FieldName",t)},expression:"field.FieldName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"FieldType"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"FieldType"},model:{value:e.field.FieldType,callback:function(t){e.$set(e.field,"FieldType",t)},expression:"field.FieldType"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"FieldIndex"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"FieldIndex"},model:{value:e.field.FieldIndex,callback:function(t){e.$set(e.field,"FieldIndex",t)},expression:"field.FieldIndex"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"StartPos"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"StartPos"},model:{value:e.field.StartPos,callback:function(t){e.$set(e.field,"StartPos",t)},expression:"field.StartPos"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"FieldLen"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"FieldLen"},model:{value:e.field.FieldLen,callback:function(t){e.$set(e.field,"FieldLen",t)},expression:"field.FieldLen"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"ValueRange"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"ValueRange"},model:{value:e.field.ValueRange,callback:function(t){e.$set(e.field,"ValueRange",t)},expression:"field.ValueRange"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"ToBeCleared"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"ToBeCleared"},model:{value:e.field.ToBeCleared,callback:function(t){e.$set(e.field,"ToBeCleared",t)},expression:"field.ToBeCleared"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"IsRepeat"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"IsRepeat"},model:{value:e.field.IsRepeat,callback:function(t){e.$set(e.field,"IsRepeat",t)},expression:"field.IsRepeat"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"IsUpload"}},[l("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"IsUpload"},model:{value:e.field.IsUpload,callback:function(t){e.$set(e.field,"IsUpload",t)},expression:"field.IsUpload"}})],1)],1),e._v(" "),l("div",{staticStyle:{"text-align":"right"}},[l("el-button",{attrs:{type:"danger"},on:{click:function(t){e.fieldDialogVisible=!1}}},[e._v("cancel")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.confirmFieldEdit(e.field)}}},[e._v("save")])],1)],1),e._v(" "),l("div",{staticStyle:{"text-align":"center","margin-bottom":"10%","margin-top":"2%"}},[l("el-button",{attrs:{type:"text"},on:{click:e.toHome}},[e._v("Home Page")])],1)],1)},i=[],o={name:"field",data:function(){return{ProtocolID:0,MsgID:0,tableData:[],fieldDialogVisible:!1,field:{},type:""}},mounted:function(){this.ProtocolID=localStorage.getItem("ProtocolID"),this.MsgID=localStorage.getItem("MsgID"),this.getFields(this.ProtocolID,this.MsgID)},methods:{toHome:function(){this.$router.push({path:"/"})},getFields:function(e,t){var l=this;this.req({url:"/getField",method:"POST",data:{ProtocolID:e,MsgID:t}}).then((function(e){l.tableData=e.data.fieldList}),(function(e){console.log(e),l.$message({type:"success",message:"配置获取失败"})}))},handleMessageEdit:function(e){this.fieldDialogVisible=!0,this.field=e,this.type="edit"},confirmFieldEdit:function(e){var t=this;"edit"===this.type?this.req({url:"/updateField",data:{FieldID:e.FieldID,ProtocolID:e.ProtocolID,MsgID:e.MsgID,FieldName:e.FieldName,FieldType:e.FieldType,FieldIndex:e.FieldIndex,StartPos:e.StartPos,FieldLen:e.FieldLen,ValueRange:e.ValueRange,ToBeCleared:e.ToBeCleared,IsRepeat:e.IsRepeat,IsUpload:e.IsUpload},method:"POST"}).then((function(e){t.$message({type:"success",message:e.data.message})}),(function(e){console.log("err :",e),t.$message({type:"info",message:"修改失败"})})):this.req({url:"/createField",data:{ProtocolID:this.ProtocolID,MsgID:this.MsgID,FieldName:e.FieldName,FieldType:e.FieldType,FieldIndex:e.FieldIndex,StartPos:e.StartPos,FieldLen:e.FieldLen,ValueRange:e.ValueRange,ToBeCleared:e.ToBeCleared,IsRepeat:e.IsRepeat,IsUpload:e.IsUpload},method:"POST"}).then((function(e){t.$message({type:"success",message:e.data.message}),t.getFields(t.ProtocolID,t.MsgID)}),(function(e){console.log("err :",e),t.$message({type:"info",message:"创建失败"})}))},handleCreate:function(){this.fieldDialogVisible=!0,this.field={},this.type="create"},handleDelete:function(e){var t=this;console.log(e.FieldID),this.$confirm("此操作将永久删除该Field, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){t.req({url:"/deleteField",data:{FieldID:e.FieldID},method:"POST"}).then((function(e){t.$message({type:"success",message:e.data.message}),t.getFields(t.ProtocolID,t.MsgID)}),(function(e){console.log("err :",e),t.$message({type:"success",message:"删除失败"})}))}))}}},s=o,d=l("2877"),n=Object(d["a"])(s,a,i,!1,null,"20a8bbf4",null);t["default"]=n.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d643f"],{"728f":function(t,e,o){"use strict";o.r(e);var l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"root"},[o("h1",{staticStyle:{"text-align":"center"}},[t._v("Protocol setup")]),t._v(" "),o("div",{staticStyle:{"margin-left":"75%","margin-bottom":"3%"}},[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleCreate}},[t._v("Create")])],1),t._v(" "),o("el-table",{staticStyle:{"margin-left":"10%",width:"80%"},attrs:{data:t.tableData,stripe:""}},[o("el-table-column",{attrs:{prop:"ProtocolName",label:"ProtocolName",width:"150%"}}),t._v(" "),o("el-table-column",{attrs:{prop:"ProtocolType",label:"ProtocolType",width:"150%"}}),t._v(" "),o("el-table-column",{attrs:{prop:"IsEnabled",formatter:t.formatEnable,label:"IsEnabled"}}),t._v(" "),o("el-table-column",{attrs:{label:"Edit"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return t.handleProtocolEdit(e.row)}}},[t._v("编辑")])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"Delete"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return t.handleDelete(e.row)}}},[t._v("删除")])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"message"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(o){return t.viewMessage(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),o("el-dialog",{attrs:{visible:t.protocolDialogVisible,title:"Protocol",width:"30%"},on:{"update:visible":function(e){t.protocolDialogVisible=e}}},[o("el-form",{attrs:{model:t.protocol,"label-width":"40%","label-position":"left"}},[o("el-form-item",{attrs:{label:"ProtocolName"}},[o("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"ProtocolName"},model:{value:t.protocol.ProtocolName,callback:function(e){t.$set(t.protocol,"ProtocolName",e)},expression:"protocol.ProtocolName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"ProtocolType"}},[o("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"ProtocolType"},model:{value:t.protocol.ProtocolType,callback:function(e){t.$set(t.protocol,"ProtocolType",e)},expression:"protocol.ProtocolType"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"enabled"}},[o("el-switch",{attrs:{"active-text":"启用","inactive-text":"未启用"},model:{value:t.protocol.IsEnabled,callback:function(e){t.$set(t.protocol,"IsEnabled",e)},expression:"protocol.IsEnabled"}})],1)],1),t._v(" "),o("div",{staticStyle:{"text-align":"right"}},[o("el-button",{attrs:{type:"danger"},on:{click:function(e){t.protocolDialogVisible=!1}}},[t._v("cancel")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.confirmProtocolEdit(t.protocol)}}},[t._v("save")])],1)],1),t._v(" "),o("div",{staticStyle:{"text-align":"center","margin-bottom":"10%","margin-top":"2%"}},[o("el-button",{attrs:{type:"text"},on:{click:t.toHome}},[t._v("Home Page")])],1)],1)},a=[],r={data:function(){return{tableData:[],protocolDialogVisible:!1,protocol:{},type:""}},mounted:function(){this.getSystem()},methods:{toHome:function(){this.$router.push({path:"/"})},getSystem:function(){var t=this;this.req({url:"/getProtocolConfig",method:"GET"}).then((function(e){t.tableData=e.data.pList}),(function(e){console.log(e),t.$message({type:"success",message:"配置获取失败"})}))},formatEnable:function(t,e,o){var l="";return l=o?"启用":"未启用",l},handleProtocolEdit:function(t){this.protocolDialogVisible=!0,this.protocol=t,this.type="edit"},confirmProtocolEdit:function(t){var e=this;"edit"===this.type?this.req({url:"/updateProtocol",data:{ProtocolID:t.ProtocolID,ProtocolName:t.ProtocolName,ProtocolType:t.ProtocolType,IsEnabled:t.IsEnabled},method:"POST"}).then((function(t){e.$message({type:"success",message:t.data.message})}),(function(t){console.log("err :",t),e.$message({type:"info",message:"修改失败"})})):this.req({url:"/createProtocol",data:{ProtocolName:t.ProtocolName,ProtocolType:t.ProtocolType,IsEnabled:t.IsEnabled},method:"POST"}).then((function(t){e.$message({type:"success",message:t.data.message}),e.getSystem()}),(function(t){console.log("err :",t),e.$message({type:"info",message:"创建失败"})}))},viewMessage:function(t){localStorage.setItem("ProtocolID",t.ProtocolID),this.$router.push({path:"/protocol/message",name:"message"})},handleCreate:function(){this.protocolDialogVisible=!0,this.protocol={},this.type="create"},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该Protocol, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){e.req({url:"/deleteProtocol",data:{ProtocolID:t.ProtocolID},method:"POST"}).then((function(t){e.$message({type:"success",message:t.data.message}),e.getSystem()}),(function(t){console.log("err :",t),e.$message({type:"success",message:"删除失败"})}))}))}}},c=r,n=o("2877"),s=Object(n["a"])(c,l,a,!1,null,"c2a5613c",null);e["default"]=s.exports}}]);